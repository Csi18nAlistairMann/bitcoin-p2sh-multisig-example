$ ./p2sh-multisig.sh
[Setting up run ...]
Bitcoin server stopping
Bitcoin server starting
Sending coinbase funds to new key
[NONCOINBASE_ADDRESS]: 2NAtWVtjZqAnaWXZaE1LVfDuJDsCAW5nTMR
[TXID               ]: c2361ccf82c34b5b75026d1b530cfccb1d11cc39a4b0a3405b911ec4c56104cb
-----
[...Create and fund a 2-of-3 multisig transaction...]
Creating new addresses:
[NEW_ADDRESS1]: 2NBuWZzozsaxyPJcxBPgAbbgiyKrbMmLMke
[NEW_ADDRESS2]: 2N91xz4TYCe6m9eu7YMPfwzpecHfy2spujr
[NEW_ADDRESS3]: 2NFGdVNcrf3DK5ayqDQ9uTJPKuE2cSTwBJQ
-----
Obtain public key per address:
[NEW_ADDRESS1_PUBLIC_KEY]: 03d902de3cb4776655e8d57e6abd9a0ef311509c8df949ebb5eaa605f1da5db596
[NEW_ADDRESS2_PUBLIC_KEY]: 037442030983aa7e9ec1b6a1b56258a6934f7a8d6983910e3c2611bea84357cd0b
[NEW_ADDRESS3_PUBLIC_KEY]: 023bc49c953caa6a38403d7af2383cc44b3f16ce90d416b09d347602ad41ac30a6
-----
Obtain p2sh address and redeemScript:
[P2SH_ADDRESS      ]: 2Mw4Uqekeyjih9QVa6FnKxHYoi6k5fKr1dm
[P2SH_REDEEM_SCRIPT]: 522103d902de3cb4776655e8d57e6abd9a0ef311509c8df949ebb5eaa605f1da5db59621037442030983aa7e9ec1b6a1b56258a6934f7a8d6983910e3c2611bea84357cd0b21023bc49c953caa6a38403d7af2383cc44b3f16ce90d416b09d347602ad41ac30a653ae
-----
Fund p2sh address
[UTXO_TXID]: 0227778c2ee4adf5e822168a85921c4d0e2c9c6b1b74f9a59c449f472cddd72b
-----
[...Redeem the 2-of-3 transaction]
Capture which outputs we'll use:
[1 VALUE            ]: 39.99896680
[1 VOUT             ]: 0
[1 OUTPUT_SCRIPT    ]: a9145b781b1a77b93275b05f43a825a693eff1efcb0287
[2 VALUE            ]: 10.00000000
[2 VOUT             ]: 1
[2 OUTPUT_SCRIPT    ]: a91429d8531ea8b3f1d90658687b8bd102d6e3e4734887
Vout and Output script chosen:
[UTXO_VOUT          ]: 1
[UTXO_OUTPUT_SCRIPT ]: a91429d8531ea8b3f1d90658687b8bd102d6e3e4734887
-----
Create redeem-to address:
[NEW_ADDRESS4]: 2N3agZd6DnzEVUeNzdRTNbkL6J3EfHDK6TC
-----
Generate unsigned transaction:
[RAW_TX]: 02000000012bd7dd2c479f449ca5f9741b6b9c2c0e4d1cbitcoind@svetlana:~92858a1622e8f5ade42e8c7727020100000000ffffffff01c0bc973b0000000017a914715f583ad6e0900ff09aeefe40709ab5d4ecf37e8700000000
-----
Capture private keys for use in signing:
[NEW_ADDRESS1_PRIVATE_KEY]: cVqhzuENDsf6725uHv8jbX1fXEezkxPGzekxRQs8rNiLFM17m7ec
[NEW_ADDRESS3_PRIVATE_KEY]: cTmDS7YdJ2NvD7k94YqGKPPHMornejAH4cQXnF1QzkHi2ah1LzSG
-----
Transaction after first signature:
[PARTLY_SIGNED_RAW_TX    ]: 020000000001012bd7dd2c479f449ca5f9741b6b9c2c0e4d1c92858a1622e8f5ade42e8c772702010000002322002098bccbb552c84dae81dffdc61bc2b42d26ccd659cdb6b4942ab41797e51ad317ffffffff01c0bc973b0000000017a914715f583ad6e0900ff09aeefe40709ab5d4ecf37e870400473044022055f2b7f5660b8b3661aed4c88fcf95261613e91c776eaa2ff988d2ad240cc1db02207015dbc09f3191309650c6c618de792425d15aac71ea66e985b2ec798a9a549a010069522103d902de3cb4776655e8d57e6abd9a0ef311509c8df949ebb5eaa605f1da5db59621037442030983aa7e9ec1b6a1b56258a6934f7a8d6983910e3c2611bea84357cd0b21023bc49c953caa6a38403d7af2383cc44b3f16ce90d416b09d347602ad41ac30a653ae00000000
-----
Transaction after second signature:
[SIGNED_RAW_TX]: 020000000001012bd7dd2c479f449ca5f9741b6b9c2c0e4d1c92858a1622e8f5ade42e8c772702010000002322002098bccbb552c84dae81dffdc61bc2b42d26ccd659cdb6b4942ab41797e51ad317ffffffff01c0bc973b0000000017a914715f583ad6e0900ff09aeefe40709ab5d4ecf37e870400473044022055f2b7f5660b8b3661aed4c88fcf95261613e91c776eaa2ff988d2ad240cc1db02207015dbc09f3191309650c6c618de792425d15aac71ea66e985b2ec798a9a549a014730440220697e8af02eb2dcf81a593b7927468bec50b0ad67a9ad5e5c643a1ae2a60e8489022041c66a3de9b6fc408a532468fe9fd474c9fdf8b9bbd859f6536c5a1b4500ffa30169522103d902de3cb4776655e8d57e6abd9a0ef311509c8df949ebb5eaa605f1da5db59621037442030983aa7e9ec1b6a1b56258a6934f7a8d6983910e3c2611bea84357cd0b21023bc49c953caa6a38403d7af2383cc44b3f16ce90d416b09d347602ad41ac30a653ae00000000
-----
TXID from broadcasting:
[TXID]: 0132b3c58e4747fa4ca04e35e33cae5beb0b07578b7e9f61d9d379198b7bff19
-----
$
