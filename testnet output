$ ./p2sh-multisig.sh
[Setting up run ...]
[...Create and fund a 2-of-3 multisig transaction...]
Creating new addresses:
[NEW_ADDRESS1]: 2N52odWvriqSnStSJcn5jE7VoVKSUbUHnz7
[NEW_ADDRESS2]: 2N8ZDJX38XfK6SY53ALRt9NNp54GStGZMwV
[NEW_ADDRESS3]: 2NCvf4X7mz3zFk57LvyDMme7VWSa9UwXbrQ
-----
Obtain public key per address:
[NEW_ADDRESS1_PUBLIC_KEY]: 0372e7c098683b764429b522ad184d61d7eb2c0014b74741ea786f9ae8aa5bd75c
[NEW_ADDRESS2_PUBLIC_KEY]: 03a1965fe2dfec7ebe7d56e1d696cd8a3dc0bc84a0ee85f92788adfe06a3dee315
[NEW_ADDRESS3_PUBLIC_KEY]: 0307a6bf0d95e679bb2d5f8cc725e7a3a280acdb28a770163966c540163adc8c8b
-----
Obtain p2sh address and redeemScript:
[P2SH_ADDRESS      ]: 2MvBQ7gmiiFixhuhA8uCiNaqCJx9cdmgf79
[P2SH_REDEEM_SCRIPT]: 52210372e7c098683b764429b522ad184d61d7eb2c0014b74741ea786f9ae8aa5bd75c2103a1965fe2dfec7ebe7d56e1d696cd8a3dc0bc84a0ee85f92788adfe06a3dee315210307a6bf0d95e679bb2d5f8cc725e7a3a280acdb28a770163966c540163adc8c8b53ae
-----
Fund p2sh address
[UTXO_TXID]: 8f0585b6c8055f4a84b9911f53014845b07d1bff1e53992b46ea9a3aad706bca
-----
[...Redeem the 2-of-3 transaction]
Capture which outputs we'll use:
[1 VALUE            ]: 0.11954000
[1 VOUT             ]: 0
[1 OUTPUT_SCRIPT    ]: a914a95ce00402ab179ac0042257d6339ae880b6113987
[2 VALUE            ]: 0.00030001
[2 VOUT             ]: 1
[2 OUTPUT_SCRIPT    ]: a914202f2ae96ee6bd32e546c6c778beedc3a02ad09287
Vout and Output script chosen:
[UTXO_VOUT          ]: 1
[UTXO_OUTPUT_SCRIPT ]: a914202f2ae96ee6bd32e546c6c778beedc3a02ad09287
-----
Create redeem-to address:
[NEW_ADDRESS4]: 2N3awZStTtmfroG3zfMFWhJ43fSQDwfAPBE
-----
Generate unsigned transaction:
[RAW_TX]: 0200000001ca6b70ad3a9aea462b99531eff1b7db0454801531f91b9844a5f05c8b685058f0100000000ffffffff01993a00000000000017a914716bdd0d62c31801fbb3f000440e855a39c72eef8700000000
-----
Capture private keys for use in signing:
[NEW_ADDRESS1_PRIVATE_KEY]: cThPcB3WG8qCY5Xk4B7NN555fUSXphUTMGHKB7b1RfC4ktXqRB3B
[NEW_ADDRESS3_PRIVATE_KEY]: cPxDAtyiSVeTRF3yAivKNLE8VC8sQf8XDSyBEiN9gcdhg5qoisjF
-----
Transaction after first signature:
[PARTLY_SIGNED_RAW_TX    ]: 02000000000101ca6b70ad3a9aea462b99531eff1b7db0454801531f91b9844a5f05c8b685058f01000000232200204b007719cb7340f7732af6f4f37364d17a675dd91d0a38535e29792d0f747165ffffffff01993a00000000000017a914716bdd0d62c31801fbb3f000440e855a39c72eef87040047304402207d85530b2a21e69f020ccab4806e42ac07ed818c9ae5e032b6cc6d0a2c1c8a9302202f7c4b7165b1ff6f44aa154f2d6b1eaf1205d243116048f92a05d31fa6f557eb01006952210372e7c098683b764429b522ad184d61d7eb2c0014b74741ea786f9ae8aa5bd75c2103a1965fe2dfec7ebe7d56e1d696cd8a3dc0bc84a0ee85f92788adfe06a3dee315210307a6bf0d95e679bb2d5f8cc725e7a3a280acdb28a770163966c540163adc8c8b53ae00000000
-----
Transaction after second signature:
[SIGNED_RAW_TX]: 02000000000101ca6b70ad3a9aea462b99531eff1b7db0454801531f91b9844a5f05c8b685058f01000000232200204b007719cb7340f7732af6f4f37364d17a675dd91d0a38535e29792d0f747165ffffffff01993a00000000000017a914716bdd0d62c31801fbb3f000440e855a39c72eef87040047304402207d85530b2a21e69f020ccab4806e42ac07ed818c9ae5e032b6cc6d0a2c1c8a9302202f7c4b7165b1ff6f44aa154f2d6b1eaf1205d243116048f92a05d31fa6f557eb0147304402200d61c371532b31dc44ad81b7a40197db714f6276cf88ea271af09667aedea68102207bd311e2ca7b3f3f30bbc47b25633a516d2f23913b1391b6958d4ddf77a4c000016952210372e7c098683b764429b522ad184d61d7eb2c0014b74741ea786f9ae8aa5bd75c2103a1965fe2dfec7ebe7d56e1d696cd8a3dc0bc84a0ee85f92788adfe06a3dee315210307a6bf0d95e679bb2d5f8cc725e7a3a280acdb28a770163966c540163adc8c8b53ae00000000
-----
TXID from broadcasting:
[TXID]: 9fcb287f01cc39d7e0f2d43d5140922fcc6924e70cfcb2cdc9930fbefee9d937
-----
$
